<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Inicio Odonto</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="estilos.css" />
</head>
<body>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <div id="encabezadoPerfilPaciente">
        <img id="foto-usuario" src="img/perfil-default.jpg" alt="Foto del usuario" class="fotoUsuario">
        <div class="divCerrarSesion">
            <a href="javascript:void(0)" onclick="logout();"><i id="icono-logout" class="fa fa-sign-out"></i></a>
        </div>
        <div id="welcome-message">
            <h1>Bienvenido, <span id="user-name"></span></h1>
            <p>Descripción general del usuario.</p>
        </div>
        <div style="clear: both;"></div>
    </div>
    
    <div class="menu-table">
        <table>
            <tr>
                <td>
                    <ul class="menu">
                        <li><a href="javascript:void(0);" onclick="openModal('user')"><i id="icono-user" class="fa fa-user"></i></a></li>
                     
                    </ul>
                </td>
                <td>
                    <ul class="menu">
                        <li><a href="javascript:void(0)" onclick="openModal('bell')"><i id="icono-bell" class="fa fa-bell"></i></a></li>
                    </ul>
                </td>
                <td>
                    <ul class="menu">
                        <li><a href="javascript:void(0)" onclick="openModal('calendar')"><i id="icono-calendar" class="fa fa-calendar"></i></a></li>
                    </ul>
                </td>
            </tr>
            <tr>
                <td>
                    <ul class="menu">
                        <li><a href="javascript:void(0)" onclick="openModal('file')"><i id="icono-file" class="fa fa-file-text"></i></a></li>
                    </ul>
                </td>
                <td>
                    <ul class="menu">
                        <li><a href="javascript:void(0)" onclick="openModal('folder')"><i id="icono-folder" class="fa fa-folder-open"></i></a></li>
                </td>
                <td>
                    <ul class="menu">
                        <li><a href="javascript:void(0)" onclick="openModal('cog')"><i id="icono-cog" class="fa fa-cog"></i></a></li>
                    </ul>
                </td>
            </tr>
        </table>
    </div>
    
    <div id="modal-user" class="modal">
        <div class="fotoUsuario">
            <span class="close" onclick="closeModal('user')">&times;</span>
            <h2>Perfil</h2>
            <form action="upload_profile_picture.php" method="post" enctype="multipart/form-data">
                <label for="profile-picture">Foto de perfil:</label>
                <input type="file" id="profile-picture" name="profile-picture" accept="image/*">
                <br>
                <input type="submit" value="Subir Foto">
            </form>
        </div>

        <div class="datosPaciente">
            <script>
                $.ajax({
                    method: "POST",
                    url: "conexion.php",
                    data: {funcion: "mostrarPerfil"}
                })
                .done(function(respuesta){
                    $("div.datosPaciente").html(respuesta);
                });
            </script>
        </div>
    </div>

    <div id="modal-bell" class="modal">
        <div class="tnotificacionP">
            <span class="close" onclick="closeModal('bell')">&times;</span>
            <h2>Notificaciones</h2>
        </div>
         
        <div class="recepcionNotificacionesP">
            <script>
                $.ajax({
                    method: "POST",
                    url: "conexion.php",
                    data: {funcion: "mostrarNotificaciones"}
                })
                .done(function(respuesta){
                    $("div.recepcionNotificacionesP").html(respuesta);
                });
            </script>
        </div> 
     </div>

    <div id="modal-calendar" class="modal">
        <div class="tapartarCitasP">
            <span class="close" onclick="closeModal('calendar')">&times;</span>
            <h2>Apartado de citas</h2>
        </div>
       
        <div class="calendarioP">
            <script>
                $.ajax({
                    method: "POST",
                    url: "conexion.php",
                    data: {funcion: "mostrarCitas"}
                })
                .done(function(respuesta){
                    $("div.calendarioP").html(respuesta);
                });
            </script>
        </div>
    </div>

    <div id="modal-file" class="modal">
        <div class="ttramientosP">
            <span class="close" onclick="closeModal('file')">&times;</span>
            <h2>Tratamientos</h2>
        </div>

        <div class="mostrarTramientosP">
            <!--<table>
                <thead>
                <tr>
                  
                    </tr>
                </tbody>
            </table>-->
            <script>
                $.ajax({
                    method: "POST",
                    url: "conexion.php",
                    data: {funcion: "mostrarTratamientos"}
                })
                .done(function(respuesta){
                    $("div.mostrarTramientosP").html(respuesta);
                });
            </script>
        </div>
    </div>

    <div id="modal-folder" class="modal">
        <div class="SeguimientoOdonto">
            <span class="close" onclick="closeModal('folder')">&times;</span>
            <h2>Seguimiento Odontologico</h2>
        </div>

        <div class="verSeguimientos">
            <title>Seguimiento de tratamientos</title>
            <!--<main>
                <section id="sectionPacientesSeguimiento" class="sectionPacientesSeguimiento">
                    <h2>Pacientes</h2>
                    <ul>
                        <li>
                            <ul>
                    
                            </ul>
                        </li>
                        <li>
                            <ul>
                    
                            </ul>
                        </li>
                    </ul>
                </section>
            </main>-->
            <script>
                $.ajax({
                    method: "POST",
                    url: "conexion.php",
                    data: {funcion: "mostrarSeguimiento"}
                })
                .done(function(respuesta){
                    $("div.verSeguimientos").html(respuesta);
                });
            </script> 
        </div>
    </div>

    <div id="modal-cog" class="modal">
        <div class="tituloConfiP">
            <span class="close" onclick="closeModal('cog')">&times;</span>
            <h1>Opciones de Configuración Generales</h1>

            <form action="conexion.php" method="post">
                <label for="idioma">Idioma:</label>
                <select id="idioma" name="idioma">
                    <option value="es">Español</option>
                    <option value="en">Inglés</option>
                    <option value="fr">Francés</option>
                    <option value="de">Alemán</option>
                </select>
                <br><br>
                <label for="tema">Tema:</label>
                <input type="radio" id="tema-claro" name="tema" value="claro" checked> Claro
                <input type="radio" id="tema-oscuro" name="tema" value="oscuro"> Oscuro<br><br>
                <input type="submit" value="Guardar Configuración">
        </form>
         
        </div>

        <div class="apartadoConfiP">
              
                <div class="preferencias">
                  <h3>Preferencias</h3>
              
                  <div class="opciones">
                    <input type="checkbox" name="notificaciones" id="notificaciones" checked>
                    <label for="notificaciones">Recibir notificaciones por correo electrónico</label>
                  </div>
              
                  <div class="opciones">
                    <input type="checkbox" name="recordatorios" id="recordatorios" checked>
                    <label for="recordatorios">Recibir recordatorios de citas</label>
                  </div>
              
                  <div class="opciones">
                    <input type="checkbox" name="notificaciones_de_tratamiento" id="notificaciones_de_tratamiento" checked>
                    <label for="notificaciones_de_tratamiento">Recibir notificaciones sobre mi tratamiento</label>
                  </div>
                </div>
              
                <div class="seguridad">
                  <h3>Seguridad</h3>
              
                  <ul>
                    <li>
                      <a href="#">Cambiar contraseña</a>
                    </li>
                    <a href="#">Desactivar cuenta</a>
                  </ul>
                </div>
              </div>
        </div>
    </div>

    <!--Apartado de scripts-->
    <script>
        var nombreUsuario = "Paciente"; 
        document.getElementById("user-name").textContent = nombreUsuario;

        function openModal(iconId){
            document.getElementById('modal-' + iconId).style.display = 'block';
        }

        function closeModal(iconId) {
            document.getElementById('modal-' + iconId).style.display = 'none';
        }

        function logout(){
            $.ajax({
                method: "POST",
                url: "conexion.php",
                data: {funcion: "cerrarSesion"}
            })
                .done(function(respuesta){
                    console.log(respuesta);
                });
            window.location.href = "index.html";
        }
    </script>

</body>
</html>